/**
* File awcs-basic-wc-page-contents.min.js
* Finding specific content for shop / cart / checkout / my account pages
*/
(function(a){a(window.top.document).on("click","#place_order",function(b){block(a(this))});a(document).on("click",'a[href="'+awcs_wc_global_params.account_url+'"]',function(b){b.preventDefault();var c=a(this);a.ajax({type:"post",url:awcs_wc_global_params.ajax_url,data:{action:"awcs_wc_view_account"},beforeSend:function(){awcs_set_target_element(awcs_get_target_element());block(awcs_target);block(c)},success:function(d){awcs_insert_body_classes(" page-template-default page woocommerce-account woocommerce-page singular ");
awcs_target.html(d).promise().done(function(){var e=a(document).find("li.woocommerce-MyAccount-navigation-link--payment-methods a");e.length&&e.attr("href",e.attr("href")+"?referrer=pm")})},complete:function(d){document.title="My account - "+awcs_wc_global_params.page_title;unblock(awcs_target);unblock(c);1<a(document).find(".woocommerce-breadcrumb").length&&a(document).find(".woocommerce-breadcrumb").last().hide();a.scroll_to_notices(a(".entry-title, .page-title"))}});return!1});a(document).on("click",
'a[href="'+awcs_wc_global_params.shop_url+'"], .return-to-shop a, .awcs_return_to_shop_page, .woocommerce .woocommerce-MyAccount-content .woocommerce-Message--info a.woocommerce-Button:contains(Browse products)',function(b){b.preventDefault();var c=a(this);a.ajax({type:"post",url:awcs_wc_global_params.ajax_url,data:{action:"awcs_wc_view_shop"},beforeSend:function(){awcs_set_target_element(awcs_get_target_element());block(awcs_target);block(c)},success:function(d){awcs_insert_body_classes(" page-template-default page woocommerce woocommerce-page ");
awcs_target.html(d).promise().done(function(){a(document).find("nav.woocommerce-pagination ul.page-numbers").prepend('<li><a class="prev page-numbers" href="">\u2190</a></li>');a(document).find("nav.woocommerce-pagination ul.page-numbers li a.prev").hide();var e=a(document).find('nav.woocommerce-pagination ul.page-numbers li span[aria-current="page"]');if(e){var f=a(e).html();a(e).closest("li").html('<a class="page-numbers current" href="'+awcs_wc_global_params.home_url+"wp-admin/admin-ajax.php?product-page="+
f+'">'+f+"</a>")}})},complete:function(d){document.title="Products - "+awcs_wc_global_params.page_title;unblock(awcs_target);unblock(c);1<a(document).find(".woocommerce-breadcrumb").length&&a(document).find(".woocommerce-breadcrumb").last().hide();a.scroll_to_notices(a(".entry-title, .page-title"))}});return!1});a(document).on("click",'.woocommerce-mini-cart__buttons a, a[href="'+awcs_wc_global_params.cart_url+'"]',function(b){b.preventDefault();var c=a(this);a.ajax({type:"post",url:awcs_wc_global_params.ajax_url,
data:{action:"awcs_wc_view_cart"},beforeSend:function(){awcs_set_target_element(awcs_get_target_element());block(awcs_target);block(c)},success:function(d){awcs_insert_body_classes(" page-template-default page woocommerce-cart woocommerce-page singular ");awcs_target.html(d);jQuery(document.body).trigger("wc_fragment_refresh")},complete:function(d){document.title="Cart - "+awcs_wc_global_params.page_title;unblock(awcs_target);unblock(c);1<a(document).find(".woocommerce-breadcrumb").length&&a(document).find(".woocommerce-breadcrumb").last().hide();
a.scroll_to_notices(a(".entry-title, .page-title"))}});return!1});a(document).on("click",'a[href="'+awcs_wc_global_params.checkout_url+'"], .wc-proceed-to-checkout .checkout-button, .woocommerce-mini-cart__buttons a.checkout',function(b){b.preventDefault();var c=a(this);awcs_adjust_target_element(c);block(c);jQuery.ajax({type:"post",url:awcs_wc_global_params.ajax_url,data:{action:"awcs_verify_checkout_content"},success:function(d){block(awcs_target);awcs_insert_body_classes(" page-template-default page woocommerce-checkout woocommerce-page singular ");
if(d.isCartEmpty)awcs_target.html('<header class="woocommerce-products-header"><h1 class="woocommerce-products-header__title page-title">Checkout</h1></header>'+d.checkout).fadeIn("medium");else{d='<div id="awcs_basic_checkout_wrapper" style="display: block; visibility: hidden;"><iframe id="awcs_checkout_iframe" src="'+(awcs_wc_global_params.checkout_url+'?referrer=awcs" frameborder="0" allowtransparency="true" scrolling="no" allowpaymentrequest="true" data-origwidth="" data-origheight="" style="width: 100%; height: 0px;"></iframe></div>');
if(awcs_target.find("#awcs_basic_checkout_wrapper #awcs_checkout_iframe").length)unblock(awcs_target);else{if(c.is('a[href="'+awcs_wc_global_params.checkout_url+'"]')){var e="";awcs_wc_global_params.single_loading_img&&(e=awcs_wc_global_params.single_loading_img);awcs_target.html('<div class="awcs_loading_div" style="text-align: center;">'+e+"</div>")}awcs_target.append(d)}awcs_target.find("#awcs_checkout_iframe").on("load",function(){awcs_target.find(".awcs_loading_div").hide();awcs_checkout_content()})}},
complete:function(d){unblock(c);1<a(document).find(".woocommerce-breadcrumb").length&&a(document).find(".woocommerce-breadcrumb").last().hide()}});document.title="Checkout - "+awcs_wc_global_params.page_title;return!1});jQuery(document).on("click",".woocommerce-order .woocommerce-order-details .order-again a",function(b){b.preventDefault();var c=jQuery(this);block(c);jQuery.ajax({type:"GET",url:c.attr("href"),dataType:"html",beforeSend:function(){awcs_set_target_element(awcs_get_target_element())},
success:function(d){jQuery.ajax({type:"post",url:awcs_wc_global_params.ajax_url,data:{action:"awcs_order_again_view_cart"},success:function(e){jQuery(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove();awcs_target.html(e).fadeIn();jQuery(document.body).trigger("wc_fragment_refresh")},complete:function(){jQuery.scroll_to_notices(jQuery('[role="alert"]'))}})},complete:function(){unblock($content);unblock(c);1<a(document).find(".woocommerce-breadcrumb").length&&a(document).find(".woocommerce-breadcrumb").last().hide()}})})})(jQuery);
function awcs_checkout_content(){var a=document.getElementById("awcs_checkout_iframe");a.contentWindow.document.body.style.backgroundColor=jQuery("#awcs_checkout_iframe").closest("#awcs_basic_checkout_wrapper").css("background-color");a.contentWindow.document.body.style.backgroundImage="none";a.style.height=a.contentWindow.document.body.scrollHeight+20+"px";a.style.width="100%";var b=jQuery("#awcs_checkout_iframe").contents();b.find(".awcs-product-ticker-header, .awcs-product-ticker-footer").length&&
b.find(".awcs-product-ticker-header, .awcs-product-ticker-footer").hide();b.find(".woocommerce-order-details .order_details .product-name a").length&&(b.find(".woocommerce-order .woocommerce-order-downloads .download-product a, .woocommerce-order .woocommerce-order-details .order_item .product-name a").addClass("awcs_sps_single_product"),awcs_target.html('<div id="awcs_basic_order_confirmation">'+b.find("body .awcs_order_received_frame").html()+"</div>").fadeIn("medium"),jQuery.scroll_to_notices(awcs_target.find("h1.page-title")),
awcs_target.find("#awcs_basic_order_confirmation").css({"font-size":"25px"}));jQuery("#awcs_basic_checkout_wrapper").siblings().remove();jQuery("#awcs_basic_checkout_wrapper").css({visibility:"visible"});unblock(awcs_target);var c=b.find(".woocommerce-form-coupon-toggle"),d=a.contentWindow.document.body.scrollHeight;c.on("click",".showcoupon",function(){var f=b.find("form.checkout_coupon").height();a.style.height=d+f+50+"px"});var e=b.find("form.checkout");e.on("click",'li.woocommerce-SavedPaymentMethods-new input[type="radio"]',
function(){a.style.height=a.contentWindow.document.body.scrollHeight+"px"});e.on("submit",function(f){block(e.find("#place_order"));clearInterval(g);awcs_target.find("#awcs_processing_order_wrapper").length||(b.find("form.woocommerce-checkout ul.woocommerce-error li").length&&b.find("form.woocommerce-checkout ul.woocommerce-error").remove(),awcs_target.prepend('<header id="awcs_processing_order_wrapper" class="woocommerce-products-header"><h1 class="woocommerce-products-header__title page-title"> Processing Order <span id="awcs_processing_order" style="margin-left: 15px;">'+
awcs_wc_global_params.single_loading_img+"</span> </h1></header>"),a.style.height=a.contentWindow.document.body.scrollHeight+"px",jQuery.scroll_to_notices(awcs_target.find(".page-title")));var g=setInterval(function(){b.find("form.woocommerce-checkout ul.woocommerce-error li").length&&(a.style.height=a.contentWindow.document.body.scrollHeight+"px",d=a.contentWindow.document.body.scrollHeight,unblock(e.find("#place_order")),awcs_target.find("#awcs_processing_order_wrapper").length&&awcs_target.find("#awcs_processing_order_wrapper").remove(),
clearInterval(g))},500)});jQuery.scroll_to_notices(b.find(".page-title"));jQuery("#awcs_checkout_iframe").attr("scrolling","yes")};