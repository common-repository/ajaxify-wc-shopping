/**
* File awcs-wc-add-to-cart.min.js
* Add to cart from Single product
* Variable product add to cart
*/
jQuery(document).ready(function(b){b(document).on("click",".single_add_to_cart_button, .awcs_loop_variation_add_to_cart_button",function(d){d.preventDefault();var a=b(this);a.addClass("loading");block(a);if(a.closest(".awcs_wc_single_product_wrapper").find(".awcs_single_product_type").length&&"grouped"==a.closest(".awcs_wc_single_product_wrapper").find(".awcs_single_product_type").val()||a.closest(".awcs_product_type_grouped ").length)d=a.closest("form.cart"),b(document.body).trigger("adding_to_cart",
[a,d.serialize()]),b.ajax({type:a.attr("method"),url:a.attr("action"),data:d.serialize(),beforeSend:function(c){a.removeClass("added").addClass("loading")},complete:function(c){a.addClass("added").removeClass("loading");unblock(a)},success:function(c){0===a.parent().find(".added_to_cart").length&&a.after('<a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+wc_add_to_cart_params.i18n_view_cart+"</a>");b(document.body).trigger("added_to_cart",
[c.fragments,c.cart_hash,a])}});else if(a.closest(".product-type-external").length)a.removeClass("loading"),unblock(a),d=a.closest("form").attr("action"),window.open(d);else{d=a.closest("form.cart");var e=a.val(),g=d.find("input[name=quantity]").val()||1;e=d.find("input[name=product_id]").val()||e;var h=d.find("input[name=variation_id]").val()||0;if(a.is(".disabled"))a.is(".wc-variation-is-unavailable")?window.alert(awcs_wc_add_to_cart_variation_params.i18n_unavailable_text):a.is(".wc-variation-selection-needed")&&
window.alert(awcs_wc_add_to_cart_variation_params.i18n_make_a_selection_text);else{var f={};d.find(".variations select").each(function(){var c=b(this).data("attribute_name")||b(this).attr("name"),k=b(this).val()||"";f[c]=k});d={action:"awcs_wc_add_to_cart",product_id:e,product_sku:"",quantity:g,variation_id:h,variation:f};b(document.body).trigger("adding_to_cart",[a,d]);b.ajax({type:"post",url:awcs_wc_global_params.ajax_url,data:d,beforeSend:function(c){a.removeClass("added").addClass("loading")},
complete:function(c){a.addClass("added").removeClass("loading");unblock(a)},success:function(c){c.error&&c.product_url?alert("Sorry, attribute missing for this variation. Please contact with admin."):(a.removeClass("loading"),c.fragments&&a.addClass("added"),c.fragments&&0===a.parent().find(".added_to_cart").length&&a.after('<a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+wc_add_to_cart_params.i18n_view_cart+"</a>"),
b(document.body).trigger("added_to_cart",[c.fragments,c.cart_hash,a]))}});return!1}}});b(document).on("click","a.add_to_cart_button",function(){block(b(this))});b(document).on("added_to_cart",function(){unblock(b(".add_to_cart_button"))})});